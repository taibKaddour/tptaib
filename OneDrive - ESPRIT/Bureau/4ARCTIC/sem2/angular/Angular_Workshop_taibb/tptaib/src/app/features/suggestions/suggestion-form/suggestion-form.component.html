<div class="form-container">
  <form [formGroup]="suggestionForm" (ngSubmit)="onSubmit()">

    <!-- Titre -->
    <div class="form-group">
      <label for="title">Titre :</label>
      <input
        id="title"
        type="text"
        formControlName="title"
        class="form-control"
        [class.is-invalid]="titleControl?.invalid && titleControl?.touched"
      />
      <div class="error-messages" *ngIf="titleControl?.invalid && titleControl?.touched">
        <small *ngIf="titleControl?.errors?.['required']">
          Le titre est obligatoire.
        </small>
        <small *ngIf="titleControl?.errors?.['minlength']">
          Le titre doit contenir au minimum 5 caractères.
        </small>
        <small *ngIf="titleControl?.errors?.['pattern']">
          Le titre ne doit contenir que des lettres et commencer par une majuscule.
        </small>
      </div>
    </div>

    <!-- Description -->
    <div class="form-group">
      <label for="description">Description :</label>
      <textarea
        id="description"
        formControlName="description"
        class="form-control"
        rows="4"
        [class.is-invalid]="descriptionControl?.invalid && descriptionControl?.touched"
      ></textarea>
      <div class="error-messages" *ngIf="descriptionControl?.invalid && descriptionControl?.touched">
        <small *ngIf="descriptionControl?.errors?.['required']">
          La description est obligatoire.
        </small>
        <small *ngIf="descriptionControl?.errors?.['minlength']">
          La description doit contenir au minimum 30 caractères.
        </small>
      </div>
    </div>

    <!-- Catégorie -->
    <div class="form-group">
      <label for="category">Catégorie :</label>
      <select
        id="category"
        formControlName="category"
        class="form-control"
        [class.is-invalid]="categoryControl?.invalid && categoryControl?.touched"
      >
        <option value="">-- Sélectionnez une catégorie --</option>
        <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
      </select>
      <div class="error-messages" *ngIf="categoryControl?.invalid && categoryControl?.touched">
        <small *ngIf="categoryControl?.errors?.['required']">
          La catégorie est obligatoire.
        </small>
      </div>
    </div>

    <!-- Date (readonly) -->
    <div class="form-group">
      <label for="date">Date :</label>
      <input
        id="date"
        type="text"
        formControlName="date"
        class="form-control"
        readonly
      />
    </div>

    <!-- Status (readonly) -->
    <div class="form-group">
      <label for="status">Status :</label>
      <input
        id="status"
        type="text"
        formControlName="status"
        class="form-control"
        readonly
      />
    </div>

    <!-- Bouton Soumettre — désactivé si formulaire invalide (Étape 7) -->
    <button
      type="submit"
      class="btn-submit"
      [disabled]="suggestionForm.invalid"
    >
      Soumettre
    </button>

  </form>
</div>