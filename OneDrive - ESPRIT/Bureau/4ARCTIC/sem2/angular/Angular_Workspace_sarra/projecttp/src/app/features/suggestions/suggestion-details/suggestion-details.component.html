<div class="details-container">
  <div class="details-header">
    <button class="back-btn" (click)="backToList()">
      <span class="btn-icon">â¬…ï¸</span>
      <span>Retour Ã  la liste</span>
    </button>
  </div>

  <div class="details-card" *ngIf="suggestion">
    <div class="card-header-detail">
      <h1 class="card-title-detail">{{ suggestion.title }}</h1>
      <span class="category-badge-detail">{{ suggestion.category }}</span>
    </div>

    <div class="card-meta">
      <div class="meta-item">
        <span class="meta-icon">ğŸ“…</span>
        <span class="meta-label">Date:</span>
        <span class="meta-value">{{ suggestion.date | date: 'dd MMMM yyyy' }}</span>
      </div>
      
      <div class="meta-item">
        <span class="meta-icon">ğŸ·ï¸</span>
        <span class="meta-label">ID:</span>
        <span class="meta-value">#{{ suggestion.id }}</span>
      </div>
      
      <div class="meta-item">
        <span class="meta-icon">ğŸ‘</span>
        <span class="meta-label">Likes:</span>
        <span class="meta-value">{{ suggestion.nbLikes }}</span>
      </div>
    </div>

    <div class="card-status-section">
      <span class="status-label">Statut:</span>
      <span [class]="'status-badge-detail ' + getStatusClass(suggestion.status)">
        {{ getStatusText(suggestion.status) }}
      </span>
    </div>

    <!-- Message spÃ©cial pour les suggestions refusÃ©es -->
    <div *ngIf="suggestion.status === 'refusee'" class="refusal-alert">
      <div class="alert-icon">âš ï¸</div>
      <div class="alert-content">
        <h3 class="alert-title">Suggestion RefusÃ©e</h3>
        <p class="alert-text">
          Cette suggestion a Ã©tÃ© examinÃ©e et refusÃ©e par l'Ã©quipe de modÃ©ration. 
          Elle ne correspond pas aux prioritÃ©s actuelles de l'Ã©tablissement ou 
          nÃ©cessite des ressources non disponibles pour le moment.
        </p>
      </div>
    </div>

    <div class="card-description-section">
      <h2 class="section-title">Description dÃ©taillÃ©e</h2>
      <p class="description-text">{{ suggestion.description }}</p>
    </div>

    <div class="additional-info">
      <h2 class="section-title">Informations complÃ©mentaires</h2>
      <div class="info-grid">
        <div class="info-card">
          <div class="info-icon">ğŸ‘¥</div>
          <h3 class="info-title">Impact</h3>
          <p class="info-text">Cette suggestion peut impacter directement la communautÃ© universitaire.</p>
        </div>
        
        <div class="info-card">
          <div class="info-icon">â±ï¸</div>
          <h3 class="info-title">DÃ©lai</h3>
          <p class="info-text">Mise en Å“uvre estimÃ©e: 2-4 semaines aprÃ¨s approbation.</p>
        </div>
        
        <div class="info-card">
          <div class="info-icon">ğŸ’°</div>
          <h3 class="info-title">Budget</h3>
          <p class="info-text">CoÃ»t estimÃ©: Variable selon les ressources disponibles.</p>
        </div>
      </div>
    </div>

    <!-- Actions uniquement pour les suggestions NON refusÃ©es -->
    <div class="card-actions-detail" *ngIf="suggestion.status !== 'refusee'">
      <button class="btn btn-like-detail" (click)="likeSuggestion()">
        <span class="btn-icon">ğŸ‘</span>
        <span>J'aime ({{ suggestion.nbLikes }})</span>
      </button>
   
    </div>

    <!-- Message pour les suggestions refusÃ©es -->
    <div class="refused-message" *ngIf="suggestion.status === 'refusee'">
      <p class="refused-text">
        <span class="refused-icon">ğŸ”’</span>
        Les interactions sont dÃ©sactivÃ©es pour les suggestions refusÃ©es.
      </p>
    </div>
  </div>

  <div class="not-found-section" *ngIf="!suggestion">
    <div class="not-found-icon">ğŸ”</div>
    <h2>Suggestion non trouvÃ©e</h2>
    <p>La suggestion que vous recherchez n'existe pas.</p>
    <button class="btn btn-primary" (click)="backToList()">
      Retour Ã  la liste
    </button>
  </div>
</div>